<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css"/>
    <title> Converter </title>  
<header>
    <nav>
        <a href="index.html">Home</a>
        <a href="Conversion.html">Conversion</a>
        <a href="TaxCalculator.html" class="active">Tax Calculator</a>
        <a href="Loopings.html">Loopings</a>
        <a href="Payroll.html">Payroll</a>
        <a href="Other.html">Other</a>
    </nav>
</header>

<div class="square">
    <p class="square-tax">--- Tax Calculator ---</p>
    <input type="number" id="incomeValue" placeholder="Enter your income to calculate!">
    <select id="taxType">
        <option value="incomeTax">Income Tax (Philippine Tax)</option>
        <option value="vat">VAT (12%)</option>
    </select>
    <button onclick="calculateTax()">Calculate</button>
    <p id="taxResult"></p>
    <div id="dropdown-placeholder"></div>
</div>

<script>
function calculateTax() {
    const income = parseFloat(document.getElementById("incomeValue").value);
    let tax = 0;

    if (isNaN(income) || income < 0) {
        document.getElementById("taxResult").textContent = "Please enter a valid income.";
        return;
    }

    if (income <= 250000) {
        tax = 0;
    } else if (income <= 400000) {
        tax = (income - 250000) * 0.20;
    } else if (income <= 800000) {
        tax = 30000 + (income - 400000) * 0.25;
    } else if (income <= 2000000) {
        tax = 130000 + (income - 800000) * 0.30;
    } else if (income <= 8000000) {
        tax = 490000 + (income - 2000000) * 0.32;
    } else {
        tax = 2410000 + (income - 8000000) * 0.35;
    }

    document.getElementById("taxResult").textContent =
        "Income Tax: â‚±" + tax.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

fetch("dropdown.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("dropdown-placeholder").innerHTML = data;
      });
      
</script>

</script>
    </header>
    </html>